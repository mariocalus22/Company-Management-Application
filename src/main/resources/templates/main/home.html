<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header"></head>


<body>


<nav th:replace="layouts :: navbar"></nav>

<div class="container">
<h3>Home Page</h3>
<!--  <a th:text="${versionNumber}"></a>-->
<div sec:authorize="isAuthenticated()">
      <h5>Hi, you are logged in!</h5></div>


	<hr>
		<h4> Projects Created </h4>
	<div class="row">
	<div class="col-md-6">

	<table class="table table-striped table-dark">
		<thead class="thead-dark">
			<tr>
				<th> Project Name </th>
				<th> Project Stage </th>
				<th> Project Budget </th>
				
			</tr>
		</thead>
		<tbody>
			<tr th:each="aProject : ${projectsList}"> 
				<td th:text="${aProject.name}"/>
				<td th:text="${aProject.stage}"/>
				<td th:text="${aProject.budget}"/>
				
				
			</tr>
		
		</tbody>
		
	
	</table>
	</div>

	
		<div class="col-md-4">
			<canvas id="myPieChart" height="50" width="50"></canvas>
			<script>
				var chartData = "[[${StatusProjectCount}]]"
			</script>
		</div>
	</div>
</div>

<div class="container">
	<h4>  Employees </h4>
	<div class="row">
	<div class="col-md-6">
		
		<table class="table table-striped table-dark">
			<thead class="thead-dark">
				<tr>
					<th> First Name </th>
					<th> Last Name </th>
					 <!-- <th> Work Hours</th> -->					
					<th> Project Count </th>
					
				</tr>
			</thead>
			<tbody>
				<tr th:each="anEmplPjCount : ${emplListProjCount}"> 
					<td th:text="${anEmplPjCount.firstName}"/>
					<td th:text="${anEmplPjCount.lastName}"/>
					
					
					<td th:text="${anEmplPjCount.ProjectCount}"/>
					
					
				</tr>
			
			</tbody>
			
		
		</table>
	</div>
		
		
	
	</div>
</div>

<script type="text/javascript" th:src="@{/js/myChart.js}"></script>
</body>